# Инструкция по установке AFK Menu

## Требования

### Обязательные компоненты:

1. **GTA San Andreas** (версия для SA-MP)
2. **SA-MP Client** (любая версия 0.3.7+)
3. **MoonLoader** - [скачать здесь](https://www.blast.hk/threads/13305/)

### Необходимые библиотеки MoonLoader:

Эти библиотеки должны быть установлены в папку `moonloader/lib/`:

- **mimgui** - [скачать](https://www.blast.hk/threads/66959/)
- **samp.events** - обычно входит в состав MoonLoader
- **inicfg** - обычно входит в состав MoonLoader
- **encoding** - обычно входит в состав MoonLoader

## Пошаговая установка

### Шаг 1: Установка MoonLoader

1. Скачайте MoonLoader с официального источника
2. Запустите установщик
3. Выберите папку с GTA San Andreas
4. Дождитесь завершения установки

### Шаг 2: Установка mimgui

1. Скачайте библиотеку mimgui
2. Распакуйте содержимое в папку `GTA San Andreas/moonloader/lib/`
3. Убедитесь, что файл `mimgui.lua` находится в `moonloader/lib/mimgui/`

### Шаг 3: Установка скрипта AFK Menu

1. Скопируйте файл `afk_menu.lua` в папку:
   ```
   GTA San Andreas/moonloader/
   ```

2. Структура должна выглядеть так:
   ```
   GTA San Andreas/
   ├── moonloader/
   │   ├── afk_menu.lua          ← Сюда
   │   ├── lib/
   │   │   ├── mimgui/
   │   │   ├── samp.events.lua
   │   │   ├── inicfg.lua
   │   │   └── encoding.lua
   │   └── ...
   └── ...
   ```

### Шаг 4: Первый запуск

1. Запустите GTA San Andreas
2. Зайдите на любой SA-MP сервер
3. Дождитесь появления сообщения в чате:
   ```
   [AFK Menu] Скрипт загружен. Используйте /afk для открытия меню
   ```

4. Введите команду `/afk` для открытия меню

## Проверка установки

### Проверка MoonLoader

В чате должно появиться сообщение:
```
[MoonLoader] v.XXX loaded.
```

### Проверка скрипта

Введите в чат:
```
/afk
```

Должно открыться окно с настройками AFK Menu.

## Возможные проблемы

### Ошибка: "module 'mimgui' not found"

**Причина**: Не установлена библиотека mimgui

**Решение**:
1. Скачайте mimgui
2. Установите в `moonloader/lib/mimgui/`
3. Перезапустите игру

### Ошибка: "module 'samp.events' not found"

**Причина**: Устаревшая версия MoonLoader

**Решение**:
1. Обновите MoonLoader до последней версии
2. Скачайте samp.events отдельно и поместите в `moonloader/lib/`

### Скрипт не загружается

**Решение**:
1. Откройте файл `moonloader.log` в папке `moonloader/`
2. Найдите ошибки, связанные с `afk_menu.lua`
3. Проверьте, установлены ли все необходимые библиотеки

### Меню не открывается

**Проверьте**:
1. Правильно ли введена команда: `/afk` или `/Afk`
2. Заспавнен ли ваш персонаж на сервере
3. Нет ли конфликтов с другими скриптами

## Удаление скрипта

Для удаления скрипта:

1. Удалите файл `afk_menu.lua` из папки `moonloader/`
2. Удалите файл `afk_menu.ini` из папки `moonloader/config/` (если есть)
3. Перезапустите игру или используйте `/reload`

## Обновление скрипта

1. Удалите старый файл `afk_menu.lua`
2. Скопируйте новый файл `afk_menu.lua` в папку `moonloader/`
3. Настройки в `afk_menu.ini` сохранятся автоматически
4. Перезагрузите скрипты командой `/reload` или перезапустите игру

## Настройка по умолчанию

После первого запуска создастся файл конфигурации:
```
moonloader/config/afk_menu.ini
```

Содержимое по умолчанию:
```ini
[settings]
afk_enabled=false
afk_status=0
afk_message=Я сейчас AFK, напишите позже!
```

Вы можете вручную отредактировать этот файл, если нужно.

## Поддержка

При возникновении проблем:

1. Проверьте `moonloader.log` для детальной информации об ошибках
2. Убедитесь, что все библиотеки установлены корректно
3. Проверьте совместимость версии MoonLoader с вашей версией SA-MP
4. Обратитесь к сообществу MoonLoader на форуме blast.hk

## Полезные ссылки

- **MoonLoader**: https://www.blast.hk/threads/13305/
- **mimgui**: https://www.blast.hk/threads/66959/
- **Форум MoonLoader**: https://www.blast.hk/forums/12/
- **Документация MoonLoader**: https://www.blast.hk/wiki/

## Лицензия

Скрипт распространяется бесплатно для личного использования.
