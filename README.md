# SA-MP AFK Menu - MoonLoader Script

Lua скрипт для SA-MP с функционалом AFK меню и автоматическим ответом на сообщения.

## Требования

Для работы скрипта необходимы следующие библиотеки MoonLoader:

- **MoonLoader** - основной загрузчик скриптов
- **mimgui** - для отрисовки интерфейса меню
- **encoding** - для корректной работы с кириллицей
- **samp.events** - для обработки событий SAMP
- **inicfg** - для сохранения настроек в INI файл

## Установка

1. Убедитесь, что у вас установлен MoonLoader
2. Скопируйте файл `afk_menu.lua` в папку `moonloader`
3. Перезапустите игру или перезагрузите скрипты командой `/reload`

## Использование

### Основная команда

```
/afk или /Afk - открыть меню настроек AFK
```

### Функционал меню

1. **Включение/отключение AFK режима** - галочка для активации/деактивации
2. **Выбор статуса**:
   - **Away (Отошел)** - вы временно отсутствуете
   - **Do Not Disturb (Не беспокоить)** - вы заняты
   - **Online (В сети)** - вы в сети, но возможно отошли
3. **AFK сообщение** - текст, который будет автоматически отправлен игрокам, написавшим вам в личку
4. **Сохранение настроек** - все настройки автоматически сохраняются в файл `afk_menu.ini`

## Особенности

- ✅ Автоматическая остановка персонажа при активации AFK
- ✅ Автоответ на входящие личные сообщения
- ✅ Индикатор AFK статуса на экране
- ✅ Автоматическое сохранение настроек
- ✅ Защита от спама (один ответ на игрока в течение 5 минут)
- ✅ Автоматическое отключение AFK при отправке сообщений/команд

## Файлы

- `afk_menu.lua` - основной файл скрипта
- `afk_menu.ini` - файл настроек (создается автоматически)

## Формат INI файла

```ini
[settings]
afk_enabled=false
afk_status=0
afk_message=Я сейчас AFK, напишите позже!
```

## Поддерживаемые форматы личных сообщений

Скрипт распознает следующие форматы PM:
- `Игрок шепчет:`
- `Личное сообщение от Игрок:`
- `PM от Игрок:`
- `[PM] от Игрок:`

## Версия

**1.0.0** - Первый релиз

## Лицензия

Свободное использование
