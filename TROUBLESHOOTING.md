# Руководство по устранению неполадок Xlopok Bot

Это руководство поможет вам решить наиболее распространенные проблемы при использовании Xlopok Bot.

## Содержание

1. [Проблемы с загрузкой скрипта](#проблемы-с-загрузкой-скрипта)
2. [Проблемы с меню](#проблемы-с-меню)
3. [Проблемы со сбором ресурсов](#проблемы-со-сбором-ресурсов)
4. [Проблемы с настройками](#проблемы-с-настройками)
5. [Проблемы с сервером](#проблемы-с-сервером)
6. [Проблемы с производительностью](#проблемы-с-производительностью)

---

## Проблемы с загрузкой скрипта

### Скрипт не загружается при запуске игры

**Симптомы:**
- Нет сообщения о загрузке в чате
- Команда `/Xlopok` не работает

**Возможные причины и решения:**

#### 1. MoonLoader не установлен или установлен неправильно

**Решение:**
```
1. Скачайте последнюю версию MoonLoader
2. Распакуйте все файлы в папку с игрой
3. Запустите игру для инициализации
4. Проверьте наличие папки moonloader/
```

#### 2. Скрипт находится в неправильной папке

**Решение:**
```
Правильное расположение:
GTA San Andreas/moonloader/Xlopok.lua

Неправильное:
GTA San Andreas/Xlopok.lua
GTA San Andreas/moonloader/lib/Xlopok.lua
```

#### 3. Ошибка в коде скрипта

**Решение:**
```
1. Откройте moonloader.log
2. Найдите ошибки, связанные с Xlopok
3. Проверьте целостность файла Xlopok.lua
4. Скачайте файл заново, если он поврежден
```

### Ошибка: "module 'mimgui' not found"

**Симптомы:**
- В moonloader.log есть ошибка о отсутствии модуля mimgui
- Скрипт не загружается

**Решение:**
```
1. Скачайте библиотеку mimgui:
   https://www.blast.hk/threads/66959/
   
2. Распакуйте файл mimgui.lua в:
   GTA San Andreas/moonloader/lib/
   
3. Перезапустите игру или используйте /reloadscripts
```

### Ошибка: "module 'inicfg' not found"

**Симптомы:**
- Ошибка об отсутствии модуля inicfg

**Решение:**
```
1. Обновите MoonLoader до последней версии
2. inicfg обычно идет в комплекте с MoonLoader
3. Если отсутствует, скачайте отдельно и поместите в moonloader/lib/
```

### Ошибка: "module 'lib.samp.events' not found"

**Симптомы:**
- Ошибка об отсутствии модуля lib.samp.events

**Решение:**
```
1. Создайте папку samp в moonloader/lib/
2. Поместите файл events.lua в moonloader/lib/samp/
3. Или обновите MoonLoader до версии 0.26+
```

---

## Проблемы с меню

### Команда /Xlopok не открывает меню

**Симптомы:**
- Команда не работает
- Нет реакции на ввод

**Решение:**

#### 1. Проверьте правильность ввода команды
```
Правильно: /Xlopok (с заглавной X)
Неправильно: /xlopok, /XLOPOK, /xLopok
```

#### 2. Скрипт не загружен
```
1. Проверьте moonloader.log
2. Убедитесь, что скрипт загрузился без ошибок
3. Используйте /reloadscripts для перезагрузки
```

#### 3. Конфликт с другими скриптами
```
1. Отключите другие скрипты временно
2. Проверьте, работает ли команда
3. Если работает, найдите конфликтующий скрипт
```

### Меню открывается, но ничего не отображается

**Симптомы:**
- Окно меню пустое или черное
- Нет элементов управления

**Решение:**
```
1. Проверьте версию библиотеки mimgui (должна быть последняя)
2. Убедитесь, что используете правильную версию MoonLoader
3. Попробуйте изменить разрешение экрана
4. Перезапустите игру
```

### Меню не закрывается

**Симптомы:**
- Кнопка "Закрыть меню" не работает
- Повторный ввод /Xlopok не закрывает меню

**Решение:**
```
1. Нажмите ESC для выхода из режима курсора
2. Используйте команду /Xlopok снова
3. Если не помогает, используйте /reloadscripts
```

---

## Проблемы со сбором ресурсов

### Бот не собирает ресурсы

**Симптомы:**
- Автоматический сбор включен, но ничего не происходит
- Статус: "Ресурсы не найдены в радиусе"

**Решение:**

#### 1. Проверьте настройки
```
✅ Убедитесь, что:
- Включен "Автоматический сбор"
- Включен сбор нужного типа (лён/хлопок)
- Вы находитесь рядом с ресурсами
- Радиус поиска достаточно большой
```

#### 2. Увеличьте радиус поиска
```
1. Откройте меню /Xlopok
2. Увеличьте радиус поиска до 100 метров
3. Попробуйте снова
```

#### 3. Проверьте наличие ресурсов
```
1. Убедитесь, что вы на поле со льном/хлопком
2. Проверьте, что ресурсы видны визуально
3. Попробуйте собрать вручную командой /collect
```

### Персонаж не подходит к ресурсам

**Симптомы:**
- Бот находит ресурсы, но персонаж не двигается
- Персонаж застревает

**Решение:**
```
1. Проверьте, что персонаж не застрял в текстурах
2. Переместитесь в другое место на поле
3. Уменьшите радиус поиска до 30-50 метров
4. Увеличьте задержку сбора до 2000 мс
```

### Бот собирает только один тип ресурса

**Симптомы:**
- Собирается только лён или только хлопок

**Решение:**
```
1. Откройте меню /Xlopok
2. Убедитесь, что оба типа включены:
   ✅ Собирать лён
   ✅ Собирать хлопок
3. Сохраните настройки
```

### Команда /collect не отправляется

**Симптомы:**
- Персонаж подходит к ресурсам, но не собирает

**Решение:**
```
1. Проверьте, что на сервере используется команда /collect
2. Возможно, на сервере другая команда (уточните у администрации)
3. Если команда другая, потребуется изменить скрипт
```

---

## Проблемы с настройками

### Настройки не сохраняются

**Симптомы:**
- После перезапуска игры настройки сбрасываются
- Кнопка "Сохранить настройки" не работает

**Решение:**

#### 1. Проблема с правами доступа
```
1. Запустите игру от имени администратора
2. Проверьте права на папку moonloader/config/
3. Убедитесь, что файл Xlopok.ini не только для чтения
```

#### 2. Проблема с библиотекой inicfg
```
1. Переустановите библиотеку inicfg
2. Проверьте moonloader.log на ошибки
3. Обновите MoonLoader
```

#### 3. Конфликт с другими скриптами
```
1. Временно отключите другие скрипты
2. Проверьте, сохраняются ли настройки
3. Найдите конфликтующий скрипт
```

### Файл Xlopok.ini не создается

**Симптомы:**
- В папке config/ нет файла Xlopok.ini
- Настройки не сохраняются

**Решение:**
```
1. Создайте папку config/ вручную:
   GTA San Andreas/moonloader/config/
   
2. Скопируйте содержимое из Xlopok.ini.example
   
3. Перезапустите скрипт
```

---

## Проблемы с сервером

### Скрипт не работает на сервере

**Симптомы:**
- Сообщение: "Скрипт работает только на серверах Arizona RP!"
- Скрипт выгружается при подключении

**Решение:**

#### 1. Вы не на сервере Arizona RP
```
Скрипт специально разработан для Arizona RP и работает
только на официальных серверах с IP: 80.66.82.136-150

Убедитесь, что вы подключены к серверу Arizona RP.
```

#### 2. IP сервера изменился
```
Если Arizona RP изменила IP-адреса серверов:
1. Сообщите об этом разработчику
2. Или измените список IP в скрипте самостоятельно
```

### Лаги при работе скрипта

**Симптомы:**
- Игра тормозит
- FPS падает
- Задержки в управлении

**Решение:**
```
1. Увеличьте задержку сбора до 2000-3000 мс
2. Уменьшите радиус поиска до 30-40 метров
3. Закройте другие ненужные программы
4. Уменьшите графические настройки игры
```

---

## Проблемы с производительностью

### Высокое использование CPU

**Симптомы:**
- Процессор загружен на 100%
- Перегрев компьютера

**Решение:**
```
1. Увеличьте задержку сбора
2. Уменьшите радиус поиска
3. Отключите ненужные скрипты
4. Обновите драйверы видеокарты
```

### Высокое использование памяти

**Симптомы:**
- Игра использует много RAM
- Периодические зависания

**Решение:**
```
1. Перезапустите игру каждые 2-3 часа
2. Используйте /reloadscripts периодически
3. Закройте другие программы
4. Увеличьте файл подкачки Windows
```

---

## Диагностика проблем

### Проверка логов

**Как проверить moonloader.log:**
```
1. Откройте файл: GTA San Andreas/moonloader/moonloader.log
2. Найдите строки с [Xlopok Bot]
3. Ищите слова ERROR, WARNING, FAILED
4. Скопируйте ошибку для дальнейшей диагностики
```

### Тестирование функционала

**Пошаговая проверка:**
```
1. Загрузка скрипта:
   - Запустите игру
   - Проверьте сообщение в чате
   
2. Открытие меню:
   - Введите /Xlopok
   - Проверьте, открылось ли меню
   
3. Сохранение настроек:
   - Измените настройки
   - Нажмите "Сохранить"
   - Перезапустите игру
   - Проверьте, сохранились ли настройки
   
4. Сбор ресурсов:
   - Включите автоматический сбор
   - Подойдите к ресурсам
   - Проверьте, работает ли сбор
```

---

## Часто задаваемые вопросы

### Можно ли использовать на других серверах?

Нет, скрипт работает только на Arizona RP. Это сделано для безопасности и оптимизации под конкретный сервер.

### Можно ли получить бан за использование?

Использование ботов может нарушать правила сервера. Используйте на свой риск. Рекомендуется использовать реалистичные настройки и не оставлять бот без присмотра.

### Как добавить другие типы ресурсов?

Для добавления других ресурсов нужно знать их ID моделей и изменить код скрипта соответствующим образом.

### Почему бот иногда пропускает ресурсы?

Это может быть связано с задержками сервера, большим радиусом поиска или низким FPS. Попробуйте оптимизировать настройки.

---

## Контрольный список диагностики

Перед обращением за помощью, проверьте:

- [ ] MoonLoader установлен и работает
- [ ] Все необходимые библиотеки установлены
- [ ] Скрипт находится в правильной папке
- [ ] Нет ошибок в moonloader.log
- [ ] Вы подключены к серверу Arizona RP
- [ ] Команда /Xlopok вводится правильно
- [ ] Настройки сохранены
- [ ] Радиус поиска достаточно большой
- [ ] Включен автоматический сбор
- [ ] Включен нужный тип ресурса
- [ ] Вы находитесь рядом с ресурсами

---

## Получение помощи

Если ни одно из решений не помогло:

1. Соберите информацию:
   - Версия MoonLoader
   - Версия игры и SAMP
   - Содержимое moonloader.log
   - Скриншоты ошибок
   - Описание проблемы

2. Проверьте README.md и INSTALLATION.md

3. Убедитесь, что проблема не описана в этом руководстве

Помните: большинство проблем решаются переустановкой MoonLoader и всех библиотек!
